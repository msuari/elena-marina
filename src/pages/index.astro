---
import Layout from "../layouts/Layout.astro";

// Wedding details
const weddingDate = new Date("2025-11-08T12:00:00"); // November 8th, 6 PM - adjust time if needed
---

<Layout title="Elena & Marina's Wedding">
  <main class="bg-white text-gray-700 font-gambetta antialiased">
    <!-- Landing Section: Big Photo & Countdown -->
    <section
      class="relative h-screen flex items-center justify-end text-right text-white overflow-hidden pr-10 md:pr-20"
    >
      <!-- Background Image -->
      <div class="absolute inset-0 bg-gray-500">
        <img
          src="/elena-marina/swing-bw.jpg"
          alt="Elena and Marina"
          class="w-full h-full object-cover opacity-70"
        />
      </div>
      <div
        class="relative z-10 p-8 md:p-12 rounded-lg"
        data-aos="fade-left"
        data-aos-delay="200"
      >
        <h1
          class="text-5xl md:text-7xl font-stardom font-medium mb-4 text-white-900"
        >
          Elena & Marina
        </h1>
        <!-- <p class="text-2xl md:text-3xl mb-5 font-serif text-white-800">¡Nos casamos!</p> -->
        <p class="text-4xl font-stardom text-white-800">8 de Noviembre 2025</p>
        <!-- Countdown Component -->
        <div
          id="countdown"
          class="text-xl font-stardom tracking-wider mb-2 text-white-900"
        >
          Cargando cuenta atrás...
        </div>
      </div>
    </section>

    <!-- Three Vertical Sections -->
    <section class="bg-white py-16">
      <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
          <!-- Celebration Section -->
          <div
            class="flex flex-col items-center md:border-r border-gray-200"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <h3 class="text-3xl font-gambetta-medium mb-4 text-gray-800">
              ¿Donde?
            </h3>
            <p class="text-2xl text-gray-800">Finca</p>
            <p class="text-2xl text-gray-800">Tagamanent</p>
            <p class="text-m text-gray-600 mt-2">Montuïri</p>
            <p class="text-m text-gray-600">
              <a
                href="https://www.google.com/maps/d/u/0/edit?mid=1mFaflGQZwGYcSDvJFgUF7imNGFLgGAU&usp=sharing"
                target="_blank"
                rel="noopener noreferrer"
                class="text-gray-800 hover:text-gray-600"
                >Ctra. Montuïri - Sant Joan, Km.2</a
              >
            </p>
          </div>

          <!-- Date Section -->
          <div
            class="flex flex-col items-center md:border-r border-gray-200"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <h3 class="text-3xl font-gambetta-medium mb-4 text-gray-800">
              ¿Cuando?
            </h3>
            <div class="flex flex-col items-center">
              <span class="text-xl text-gray-600">Día</span>
              <span class="text-6xl font-gambetta-medium text-gray-800">8</span>
              <span class="text-xl text-gray-600">Noviembre</span>
            </div>
          </div>

          <!-- Confirm Section -->
          <div
            class="flex flex-col items-center"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <h3 class="text-3xl font-gambetta-medium mb-4 text-gray-800">
              Confirmar
            </h3>
            <p class="text-lg text-gray-600 mb-4">
              Por favor, avísanos si puedes asistir
              <br />
              antes del 1 de Septiembre
            </p>
            <a
              href="https://forms.gle/1n2fJh6cmFzFEK8q8"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 px-6 rounded transition duration-300 ease-in-out transform hover:scale-105"
            >
              Confirmar asistencia
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content Container -->
    <div class="container mx-auto py-5 px-6 space-y-14 md:space-y-16">
      <!-- Couple Description Section -->

      <!-- Confirmation Link Section -->
      <!-- <section id="confirm" class="text-center" data-aos="fade-up">
        <h2
          class="text-3xl pt-10 md:text-4xl font-stardom font-medium mb-8 text-gray-800"
        >
          Confirmación de asistencia
        </h2>
        <p class="text-lg mb-8 text-gray-600">
          Por favor, avísanos si puedes asistir antes del 1 de Septiembre para
          que podamos finalizar los preparativos.
        </p>
        <a
          href="https://forms.gle/1n2fJh6cmFzFEK8q8"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-10 rounded-lg text-lg tracking-wide transition duration-300 ease-in-out transform hover:scale-105"
        >
          Confirmar asistencia
        </a>
      </section> -->

      <!-- Divider -->
      <hr
        class="max-w-2xs mx-auto border-t border-gray-300"
        data-aos="fade-up"
      />

      <!-- Celebration Details Section -->
      <section
        id="celebration"
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center py-10"
        data-aos="fade-up"
      >
        {/* Text Column */}
        <div class="md:order-1 text-center md:text-left">
          {/* Center text on mobile, left on md+ */}
          <h2
            class="text-3xl md:text-4xl font-stardom font-medium mb-6 text-gray-800"
          >
            La celebración
          </h2>
          <p class="text-lg leading-relaxed mb-2">
            <strong>Donde:</strong>
            <a
              href="/elena-marina/finca"
              class="text-gray-800 underline hover:text-gray-600"
              >Finca Tagamanent</a
            >, Ctra. Montuïri - Sant Joan, Km.2, 07230, Mallorca
          </p>
          <p class="text-lg leading-relaxed mb-6">
            <strong>Cuando:</strong> Sábado, 8 de Noviembre, 2025 a las 12:00
          </p>
          <p class="text-md text-gray-600">
            La ceremonia, el banquete y la fiesta serán en la Finca Tagamanent.
            La vestimenta es formal pero si no tienes, no te preocupes, te
            daremos de comer aparte.
          </p>
        </div>
        {/* Image Column - Replaced with Swiper Carousel */}
        <div
          class="w-full h-64 md:h-80 rounded-lg overflow-hidden shadow-lg md:order-2 relative"
          data-aos="fade-left"
        >
          {/* Swiper Container */}
          <div class="swiper celebration-swiper h-full">
            {/* Additional required wrapper */}
            <div class="swiper-wrapper">
              {/* Slides */}
              <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/altar.webp"
                  alt="Lugar de la celebración - Imagen 1"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/pati.webp"
                  alt="Lugar de la celebración - Imagen 2"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/exterior-vistes.jpg"
                  alt="Lugar de la celebración - Imagen 3"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/top.jpg"
                  alt="Lugar de la celebración - Imagen 4"
                  class="w-full h-full object-cover"
                />
              </div>
              {/* Add more slides as needed */}
            </div>
            {/* Pagination */}
            <div class="swiper-pagination"></div>
            {/* Navigation buttons */}
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
          </div>
        </div>
      </section>

      <!-- Divider -->
      <hr
        class="max-w-xs mx-auto border-t border-gray-300"
        data-aos="fade-up"
      />

      <!-- How to Get There Section - NEW -->
      <section
        id="how-to-get-there"
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center py-10"
        data-aos="fade-up"
      >
        {/* Text Column */}
        <div class="md:order-1 text-center md:text-left">
          <h2
            class="text-3xl md:text-4xl font-stardom font-medium mb-6 text-gray-800"
          >
            Cómo llegar
          </h2>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            La Finca Tagamanent se encuentra en el corazón de Mallorca, en la
            carretera de Montuïri a Sant Joan, kilómetro 2.
          </p>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            <strong
              >Nosotras proporcionaremos transporte desde Palma y el Arenal a la
              finca.</strong
            >
          </p>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            La mejor opción es venir en coche. Hay aparcamiento disponible en la
            finca. Si vienes desde Palma, calcula unos 30-40 minutos de
            trayecto.
          </p>
          <p class="text-lg leading-relaxed mb-6 text-gray-600">
            Puedes usar el mapa interactivo para obtener direcciones exactas
            desde tu ubicación. ¡Nos vemos allí!
          </p>
          <a
            href="https://www.google.com/maps/d/u/0/edit?mid=1mFaflGQZwGYcSDvJFgUF7imNGFLgGAU&usp=sharing"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-block text-blue-600 hover:underline font-medium"
          >
            Abrir en Google Maps →
          </a>
        </div>
        {/* Map Column */}
        <div
          class="w-full h-80 md:h-96 rounded-lg overflow-hidden shadow-lg md:order-2 relative"
          data-aos="fade-left"
        >
          <iframe
            src="https://www.google.com/maps/d/embed?mid=1mFaflGQZwGYcSDvJFgUF7imNGFLgGAU&ehbc=2E312F&noprof=1"
            width="100%"
            height="100%"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Mapa de ubicación de Finca Tagamanent"></iframe>
        </div>
      </section>

      <!-- Divider -->
      <hr
        class="max-w-xs mx-auto border-t border-gray-300"
        data-aos="fade-up"
      />

      <!-- Recommendations Link Section -->
      <section
        id="recommendations"
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center py-10"
        data-aos="fade-up"
      >
        {/* Text & Buttons Column */}
        <div class="md:order-2 text-center md:text-left">
          <h2
            class="text-3xl md:text-4xl font-stardom font-medium mb-6 text-gray-800"
          >
            Viaje y alojamiento
          </h2>
          <p class="text-lg mb-8 text-gray-600">
            ¿Necesitas recomendaciones de lugares donde alojarte o cosas que
            hacer cerca? Para moverte por la isla, te recomendamos alquilar un
            coche.
          </p>
          <div
            class="flex flex-col sm:flex-row justify-center md:justify-start gap-4"
          >
            <a
              href="/elena-marina/accommodation"
              class="inline-block border-2 border-gray-800 hover:bg-gray-800 hover:text-white text-gray-800 font-semibold py-3 px-6 rounded-lg text-lg tracking-wide transition duration-300 ease-in-out transform hover:scale-105"
            >
              Alojamiento
            </a>
            <a
              href="/elena-marina/car-rental"
              class="inline-block border-2 border-blue-600 hover:bg-blue-600 hover:text-white text-blue-600 font-semibold py-3 px-6 rounded-lg text-lg tracking-wide transition duration-300 ease-in-out transform hover:scale-105"
            >
              Alquilar Coche
            </a>
            <a
              href="/elena-marina/recommendations"
              class="inline-block border-2 border-gray-500 hover:bg-gray-500 hover:text-white text-gray-500 font-semibold py-3 px-6 rounded-lg text-lg tracking-wide transition duration-300 ease-in-out transform hover:scale-105"
            >
              Qué Hacer
            </a>
          </div>
        </div>
        {/* Image Column */}
        <div
          class="w-full h-64 md:h-100 rounded-lg overflow-hidden shadow-lg md:order-1 relative"
          data-aos="fade-right"
        >
          <img
            src="/elena-marina/avion.jpeg"
            alt="Avión volando sobre nubes"
            class="w-full h-full object-cover object-[center_20%]"
          />
        </div>
      </section>
    </div>
  </main>

  <!-- Simple Countdown Script -->
  <script define:vars={{ weddingDate }}>
    const countdownElement = document.getElementById("countdown");
    const targetDate = new Date(weddingDate).getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance < 0) {
        countdownElement.innerHTML = "The day is here!";
        clearInterval(interval);
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor(
        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),
      );
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownElement.innerHTML = `Faltan ${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    const interval = setInterval(updateCountdown, 1000);
    updateCountdown(); // Initial call
  </script>

  <!-- Swiper Initialization Script -->
  <script>
    // Import Swiper and modules
    import Swiper from "swiper";
    import { Navigation, Pagination, Autoplay } from "swiper/modules";
    // Import Swiper styles (important!)
    import "swiper/css";
    import "swiper/css/navigation";
    import "swiper/css/pagination";

    const swiper = new Swiper(".celebration-swiper", {
      // Use necessary modules
      modules: [Navigation, Pagination, Autoplay],
      // Optional parameters
      loop: true,
      autoplay: {
        delay: 4000, // Delay between transitions (in ms)
        disableOnInteraction: false, // Autoplay will not be disabled after user interactions
      },
      // If we need pagination
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      // Navigation arrows
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
  </script>

  <!-- Add this before the closing </Layout> tag -->
  <script>
    // Tab functionality
    document.addEventListener("DOMContentLoaded", function () {
      const tabButtons = document.querySelectorAll(".tab-button");
      const tabPanes = document.querySelectorAll(".tab-pane");

      tabButtons.forEach((button) => {
        button.addEventListener("click", () => {
          // Remove active classes
          tabButtons.forEach((btn) => {
            btn.classList.remove("active", "border-gray-800", "text-gray-800");
            btn.classList.add("text-gray-500", "border-transparent");
          });
          tabPanes.forEach((pane) => pane.classList.add("hidden"));

          // Add active classes
          button.classList.add("active", "border-gray-800", "text-gray-800");
          button.classList.remove("text-gray-500", "border-transparent");
          const tabId = button.getAttribute("data-tab");
          if (tabId) {
            const tabElement = document.getElementById(tabId);
            if (tabElement) {
              tabElement.classList.remove("hidden");
            }
          }
        });
      });
    });
  </script>
</Layout>
