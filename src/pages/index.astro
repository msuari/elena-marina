---
import Layout from "../layouts/Layout.astro";

// Wedding details
const weddingDate = new Date("2025-11-08T12:30:00"); // November 8th, 6 PM - adjust time if needed
---

<Layout title="Elena & Marina's Wedding">
  <main class="bg-white text-gray-700 font-gambetta antialiased">
    <!-- Landing Section: Big Photo & Countdown -->
    <section
      class="relative h-screen flex items-center justify-end text-right text-white overflow-hidden pr-10 md:pr-20"
    >
      <!-- Background Image -->
      <div class="absolute inset-0 bg-gray-500">
        <img
          src="/elena-marina/swing-bw.jpg"
          alt="Elena and Marina"
          class="w-full h-full object-cover opacity-70"
        />
      </div>
      <div
        class="relative z-10 p-8 md:p-12 rounded-lg"
        data-aos="fade-left"
        data-aos-delay="200"
      >
        <h1
          class="text-5xl md:text-7xl font-stardom font-medium mb-4 text-white-900"
        >
          Elena & Marina
        </h1>
        <!-- <p class="text-2xl md:text-3xl mb-5 font-serif text-white-800">¬°Nos casamos!</p> -->
        <p class="text-4xl font-stardom text-white-800">8 de Noviembre 2025</p>
        <!-- Countdown Component -->
        <div
          id="countdown"
          class="text-xl font-stardom tracking-wider mb-2 text-white-900"
        >
          Cargando cuenta atr√°s...
        </div>
      </div>
    </section>

    <!-- Three Vertical Sections -->
    <section class="bg-white py-16">
      <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
          <!-- Preboda Section -->
          <div
            class="flex flex-col items-center border-b md:border-b-0 md:border-r border-gray-200 pb-8 md:pb-0"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <h3 class="text-3xl font-gambetta-medium mb-4 text-gray-800">
              Preboda
            </h3>
            <p class="text-lg text-gray-600 mb-4">
              7 de Noviembre
            </br>
              19:30h - Bar Moltabarra
            </p>
            <a
              href="/elena-marina/preboda"
              class="inline-block bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 px-6 rounded transition duration-300 ease-in-out transform hover:scale-105"
            >
              Ver detalles
            </a>
          </div>

          <!-- Celebration Section -->
          <div
            class="flex flex-col items-center border-b md:border-b-0 md:border-r border-gray-200 pb-8 md:pb-0"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <h3 class="text-3xl font-gambetta-medium mb-4 text-gray-800">
              ¬øD√≥nde?
            </h3>
            <p class="text-2xl text-gray-800 mt-2">
              <a
                href="https://maps.app.goo.gl/eCCLbHV9LLJ5pTAG9"
                target="_blank"
                rel="noopener noreferrer"
                class="text-gray-800 hover:text-gray-600"
                >Finca <br /> Tagamanent</a
              >
            </p>
            <p class="text-m text-gray-600 mt-4">Montu√Øri - Mallorca</p>
            <!-- <p class="text-m text-gray-600">
              <a
                href="https://maps.app.goo.gl/eCCLbHV9LLJ5pTAG9"
                target="_blank"
                rel="noopener noreferrer"
                class="text-gray-800 hover:text-gray-600"
                >Ctra. Montu√Øri - Sant Joan, Km.2</a
              >
            </p> -->
          </div>

          <!-- Date Section -->
          <div
            class="flex flex-col items-center border-b md:border-b-0 md:border-r border-gray-200 pb-8 md:pb-0"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <h3 class="text-3xl font-gambetta-medium mb-4 text-gray-800">
              ¬øCu√°ndo?
            </h3>
            <div class="flex flex-col items-center">
              <span class="text-xl text-gray-600">D√≠a</span>
              <a
                href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Boda+Elena+%26+Marina&dates=20251108T110000Z/20251108T210000Z&location=Finca+Tagamanent%2C+Ctra.+Montu%C3%AFri+-+Sant+Joan%2C+Km.2%2C+07230%2C+Montu%C3%AFri%2C+Illes+Balears&details=Te+esperamos+en+nuestra+boda+en+la+Finca+Tagamanent.+%0A%0APara+m%C3%A1s+informaci%C3%B3n%3A+https%3A%2F%2Fmsuari.github.io/elena-marina/"
                target="_blank"
                rel="noopener noreferrer"
                class="group cursor-pointer transition-transform duration-300 hover:scale-105"
              >
                <p
                  class="text-6xl font-gambetta-medium text-gray-800 group-hover:text-gray-600"
                >
                  8
                </p>
                <p class="text-xl text-gray-600">Noviembre</p>
              </a>
              <!-- <span class="text-2xl text-gray-600">2025</span> -->
            </div>
          </div>

          <!-- Confirm Section -->
          <div
            class="flex flex-col items-center"
            data-aos="fade-up"
            data-aos-delay="400"
          >
            <h3 class="text-3xl font-gambetta-medium mb-4 text-gray-800">
              Confirmar
            </h3>
            <p class="text-lg text-gray-600 mb-4">
              Por favor, av√≠sanos si puedes asistir
              <br />
              antes del 1 de Septiembre
            </p>
            <a
              href="https://forms.gle/1n2fJh6cmFzFEK8q8"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 px-6 rounded transition duration-300 ease-in-out transform hover:scale-105"
            >
              Confirmar asistencia
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content Container -->
    <div class="container mx-auto py-5 px-6 space-y-14 md:space-y-16">
      <!-- Divider -->
      <hr
        class="max-w-2xs mx-auto border-t border-gray-300"
        data-aos="fade-up"
      />

      <!-- Preboda Section -->
      <section
        id="preboda"
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center py-10"
        data-aos="fade-up"
      >
        {/* Text & Button Column */}
        <div class="text-center md:text-left">
          <h2
            class="text-3xl md:text-4xl font-stardom font-medium mb-6 text-gray-800"
          >
            Preboda
          </h2>
            <p class="text-lg mb-4 text-gray-600">
              Descubre uno de los locales mas originales de Palma con un bingo musical.
              Ven a celebrar con nosotras en el <a href="/elena-marina/preboda" class="text-blue-600 hover:text-blue-800 underline">Bar Moltabarra</a> nuestro √∫ltimo d√≠a como solteras de oro.
            </p>
          <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
            <a href="/elena-marina/preboda" class="block bg-white rounded-lg shadow-md hover:shadow-lg p-4 text-center transition duration-300 ease-in-out transform hover:-translate-y-1 cursor-pointer">
              <div class="text-2xl mb-2">üìÖ</div>
              <p class="text-sm font-gambetta-medium text-gray-800">7 de Noviembre 2025</p>
              <p class="text-sm text-gray-600">19:30h</p>
            </a>
            <a href="/elena-marina/preboda" class="block bg-white rounded-lg shadow-md hover:shadow-lg p-4 text-center transition duration-300 ease-in-out transform hover:-translate-y-1 cursor-pointer">
              <div class="text-2xl mb-2">üìç</div>
              <p class="text-sm font-gambetta-medium text-gray-800">Bar Moltabarra</p>
              <p class="text-sm text-gray-600">Palma</p>
            </a>
            <a href="/elena-marina/preboda" class="block bg-white rounded-lg shadow-md hover:shadow-lg p-4 text-center transition duration-300 ease-in-out transform hover:-translate-y-1 cursor-pointer">
              <div class="text-2xl mb-2">üéµ</div>
              <p class="text-sm font-gambetta-medium text-gray-800">Bingo Musical</p>
              <p class="text-sm text-gray-600">21:00h</p>
            </a>
          </div>
        </div>
        {/* Image Column */}
        <div
          class="w-full h-64 md:h-80 rounded-lg overflow-hidden shadow-lg relative"
          data-aos="fade-left"
        >
          <img
            src="/elena-marina/preboda/the-best-tapas-bar.jpg"
            alt="The Best Tapas Bar"
            class="w-full h-full object-cover"
          />
        </div>
      </section>

      <hr
        class="max-w-xs mx-auto border-t border-gray-300"
        data-aos="fade-up"
      />

      <!-- Celebration Details Section -->
      <section
        id="celebration"
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center py-10"
        data-aos="fade-up"
      >
        {/* Text Column */}
        <div class="md:order-1 text-center md:text-left">
          {/* Center text on mobile, left on md+ */}
          <h2
            class="text-3xl md:text-4xl font-stardom font-medium mb-6 text-gray-800"
          >
            La celebraci√≥n
          </h2>
          <p class="text-lg text-gray-600 leading-relaxed mb-4">
            Queremos celebrar nuestra uni√≥n con vosotros como testigos, en un
            lugar verdaderamente especial, se trata de la <strong
              >Finca Tagamanent</strong
            >, una finca familiar mallorquina con m√°s de 600 a√±os de historia.
          </p>
          <p class="text-lg text-gray-600 leading-relaxed mb-4">
            Habr√° <strong>autobuses</strong> disponibles para ir <strong
              >desde Palma/Arenal a la finca</strong
            > y de la finca a Palma/Arenal. Los autobuses volver√°n en dos turnos:
            despu√©s de la comida y despu√©s de la fiesta. Los horarios exactos quedan
            pendientes de confirmaci√≥n.<br />
            Otra opci√≥n es venir en <a
              href="/elena-marina/car-rental"
              class="text-gray-800 underline hover:text-gray-600">coche</a
            >, ya que hay aparcamiento disponible.
          </p>
          <p class="text-lg text-gray-600 leading-relaxed mb-4">
            Primero tendr√° lugar la ceremonia civil, despu√©s un aperitivo
            durante el que disfrutaremos de las vistas a las dos sierras que
            enmarcan la isla: la Sierra de Tramuntana y la de Llevant. Luego
            vendr√° la comida y finalmente la fiesta!
          </p>
          <p class="text-lg text-gray-600 leading-relaxed mb-4">
            <strong>C√≥digo de vestimenta: formal.</strong>
          </p>
        </div>
        {/* Image Column - Replaced with Swiper Carousel */}
        <div
          class="w-full h-64 md:h-80 rounded-lg overflow-hidden shadow-lg md:order-2 relative"
          data-aos="fade-left"
        >
          {/* Swiper Container */}
          <div class="swiper celebration-swiper h-full">
            {/* Additional required wrapper */}
            <div class="swiper-wrapper">
              {/* Slides */}
              <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/altar.webp"
                  alt="Lugar de la celebraci√≥n - Imagen 1"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/pati.webp"
                  alt="Lugar de la celebraci√≥n - Imagen 2"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/exterior-vistes.jpg"
                  alt="Lugar de la celebraci√≥n - Imagen 3"
                  class="w-full h-full object-cover"
                />
              </div>
              <!-- <div class="swiper-slide">
                <img
                  src="/elena-marina/tagamanent/top.jpg"
                  alt="Lugar de la celebraci√≥n - Imagen 4"
                  class="w-full h-full object-cover"
                />
              </div> -->
              {/* Add more slides as needed */}
            </div>
            {/* Pagination */}
            <div class="swiper-pagination"></div>
            {/* Navigation buttons */}
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
          </div>
        </div>
      </section>

      <!-- Divider -->
      <hr
        class="max-w-xs mx-auto border-t border-gray-300"
        data-aos="fade-up"
      />

      <!-- How to Get There Section - NEW -->
      <section
        id="how-to-get-there"
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center py-10"
        data-aos="fade-up"
      >
        {/* Text Column */}
        <div class="md:order-1 text-center md:text-left">
          <h2
            class="text-3xl md:text-4xl font-stardom font-medium mb-6 text-gray-800"
          >
            C√≥mo llegar
          </h2>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            La Finca Tagamanent se encuentra en el coraz√≥n de Mallorca, en la
            carretera de Montu√Øri a Sant Joan, kil√≥metro 2.
          </p>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            Pod√©is consultar el mapa interactivo para obtener direcciones
            exactas desde tu ubicaci√≥n. ¬°Nos vemos all√≠!
          </p>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            Las paradas de los autobuses as√≠ como los horarios se confirmar√°n.
          </p>
          <!-- <p class="text-lg leading-relaxed mb-4 text-gray-600">
            La Finca Tagamanent se encuentra en el coraz√≥n de Mallorca, en la
            carretera de Montu√Øri a Sant Joan, kil√≥metro 2.
          </p>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            <strong
              >Nosotras proporcionaremos transporte desde Palma y el Arenal a la
              finca.</strong
            > Aun estamos pendientes de confirmar la ubicaci√≥n exacta.
          </p>
          <p class="text-lg leading-relaxed mb-4 text-gray-600">
            Otra opci√≥n es venir en coche. Hay aparcamiento disponible en la
            finca. Si vienes desde Palma, calcula unos 30-40 minutos de
            trayecto.
          </p>
          <p class="text-lg leading-relaxed mb-6 text-gray-600">
            Puedes usar el mapa interactivo para obtener direcciones exactas
            desde tu ubicaci√≥n. ¬°Nos vemos all√≠!
          </p> -->
          <a
            href="https://www.google.com/maps/d/u/0/edit?mid=1mFaflGQZwGYcSDvJFgUF7imNGFLgGAU&usp=sharing"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-block text-gray-800 underline hover:text-gray-500 font-medium"
          >
            Abrir en Google Maps ‚Üí
          </a>
        </div>
        {/* Map Column */}
        <div
          class="w-full h-80 md:h-96 rounded-lg overflow-hidden shadow-lg md:order-2 relative"
          data-aos="fade-left"
        >
          <iframe
            src="https://www.google.com/maps/d/embed?mid=1mFaflGQZwGYcSDvJFgUF7imNGFLgGAU&ehbc=2E312F&noprof=1"
            width="100%"
            height="100%"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Mapa de ubicaci√≥n de Finca Tagamanent"></iframe>
        </div>
      </section>

      <!-- Divider -->
      <hr
        class="max-w-xs mx-auto border-t border-gray-300"
        data-aos="fade-up"
      />

      <!-- Recommendations Link Section -->
      <section
        id="recommendations"
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center py-10"
        data-aos="fade-up"
      >
        {/* Text & Buttons Column */}
        <div class="md:order-2 text-center md:text-left">
          <h2
            class="text-3xl md:text-4xl font-stardom font-medium mb-6 text-gray-800"
          >
            Viaje y alojamiento
          </h2>
          <p class="text-lg mb-8 text-gray-600">
            ¬øNecesitas recomendaciones de lugares donde alojarte o cosas que
            hacer cerca? Para moverte por la isla, te recomendamos alquilar un
            coche.
          </p>
          <div
            class="flex flex-col sm:flex-row justify-center md:justify-start gap-4"
          >
            <a
              href="/elena-marina/accommodation"
              class="inline-block border-2 border-slate-700 hover:bg-slate-700 hover:text-white text-slate-700 font-semibold py-3 px-6 rounded-lg text-lg tracking-wide transition duration-300 ease-in-out transform hover:scale-105"
            >
              Alojamiento
            </a>
            <a
              href="/elena-marina/car-rental"
              class="inline-block border-2 border-gray-600 hover:bg-gray-600 hover:text-white text-gray-600 font-semibold py-3 px-6 rounded-lg text-lg tracking-wide transition duration-300 ease-in-out transform hover:scale-105"
            >
              Alquilar Coche
            </a>
            <a
              href="/elena-marina/recommendations"
              class="inline-block border-2 border-zinc-500 hover:bg-zinc-500 hover:text-white text-zinc-500 font-semibold py-3 px-6 rounded-lg text-lg tracking-wide transition duration-300 ease-in-out transform hover:scale-105"
            >
              Qu√© Hacer
            </a>
          </div>
        </div>
        {/* Image Column */}
        <div
          class="w-full h-64 md:h-100 rounded-lg overflow-hidden shadow-lg md:order-1 relative"
          data-aos="fade-right"
        >
          <img
            src="/elena-marina/avion.jpeg"
            alt="Avi√≥n volando sobre nubes"
            class="w-full h-full object-cover object-[center_20%]"
          />
        </div>
      </section>
    </div>
  </main>

  <!-- Simple Countdown Script -->
  <script define:vars={{ weddingDate }}>
    const countdownElement = document.getElementById("countdown");
    const targetDate = new Date(weddingDate).getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance < 0) {
        countdownElement.innerHTML = "The day is here!";
        clearInterval(interval);
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor(
        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),
      );
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownElement.innerHTML = `Faltan ${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    const interval = setInterval(updateCountdown, 1000);
    updateCountdown(); // Initial call
  </script>

  <!-- Swiper Initialization Script -->
  <script>
    // Import Swiper and modules
    import Swiper from "swiper";
    import { Navigation, Pagination, Autoplay } from "swiper/modules";
    // Import Swiper styles (important!)
    import "swiper/css";
    import "swiper/css/navigation";
    import "swiper/css/pagination";

    const swiper = new Swiper(".celebration-swiper", {
      // Use necessary modules
      modules: [Navigation, Pagination, Autoplay],
      // Optional parameters
      loop: true,
      autoplay: {
        delay: 4000, // Delay between transitions (in ms)
        disableOnInteraction: false, // Autoplay will not be disabled after user interactions
      },
      // If we need pagination
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      // Navigation arrows
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
  </script>

  <!-- Add this before the closing </Layout> tag -->
  <script>
    // Tab functionality
    document.addEventListener("DOMContentLoaded", function () {
      const tabButtons = document.querySelectorAll(".tab-button");
      const tabPanes = document.querySelectorAll(".tab-pane");

      tabButtons.forEach((button) => {
        button.addEventListener("click", () => {
          // Remove active classes
          tabButtons.forEach((btn) => {
            btn.classList.remove("active", "border-gray-800", "text-gray-800");
            btn.classList.add("text-gray-500", "border-transparent");
          });
          tabPanes.forEach((pane) => pane.classList.add("hidden"));

          // Add active classes
          button.classList.add("active", "border-gray-800", "text-gray-800");
          button.classList.remove("text-gray-500", "border-transparent");
          const tabId = button.getAttribute("data-tab");
          if (tabId) {
            const tabElement = document.getElementById(tabId);
            if (tabElement) {
              tabElement.classList.remove("hidden");
            }
          }
        });
      });
    });
  </script>
</Layout>
